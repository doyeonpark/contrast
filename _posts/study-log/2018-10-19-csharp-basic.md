---
title:  "c# 기본서 - 구조체, 예약어, Enum"
date:   2018-10-19 21:10:00
categories: study-log
---

### Tight Coupling, Loose Coupling
- 강력한 결합: 클래스간의 호출관계와같이 코드 변화가 어려운경우
- 느슨한 결합: 강력한 결합의 문제점을 보완하기 위한 결합, 인터페이스를 수단으로 활용.
{% highlight c# %}
class Switch
{
    //IPower를 상속하는 모든 인스턴스를 인자로 받을 수 있다.
    public void powerOn(IPower machine) 
    {
        machine.TrunOn();
    }
}
{% endhighlight %}

### 구조체
- 클래스와 달리 참조형식이 아닌 값형식 호출을 한다.
- 기본 자료형처럼 인스턴스 생성시 new를 붙이지 않아도 된다: 본래 new로 생성한다는 것은 값을 0으로 개발자가 직접 초기화한다는 의미임. C#은 개발자가 값을 직접 할당하지 않는 것을 오류로 판단하기때문에 new 없이 객체 생성을하면 오류판정을 함. 구조체의 기본자료형과의 차이점은 구조체는 값할당없이 선언이 가능하지만 기본자료형은 컴파일시 에러판정을 한다.
- 매개변수 생성자를 정의해도 기본생성자가 c#에 자동으로 포함된다.


### 파라미터에 사용되는 예약어 ref과 out 
- ref: 주소에 의한 전달로, 변수의 값이 위치한 주소를 직접 전달한다(얕은복사). 참조형 타입도 마찬가지로 ref없이 전달될때는 참조값이 또 다른 스택 메모리에 복사되어 전달되지만, ref이 있으면 스택 주소값이 직접 전달된다.
- out: 리턴하는 값이 여러개가 될때 사용하면 유용함. 초기화 될 수도 없으며 초기화해도 쓸일이 없음. TryParse가 대표적인 사용예
{% highlight c# %}
if(int.TryParse("1234567", out n) == true)
{
    Console.WriteLine(n); //1234567 
}
{% endhighlight %}

### Enum 
- 열거형 사용자 정의 타입. 정수를 상속받아 열거된 이름에 순차적으로 숫자값을 부여받음. System.Object를 상속받아 ToString()을 재정의했기 때문에 Console.WriteLine()에 찍으면 문자열 반환함.
- 숫자로 표현하도록 변환할 수 있는데 반드시 명시적 형변환 해야한다는 제약이 있음.
- 연산시 숫자연산을 하기 때문에 여러개의 문자열을 다룬다는 특성(Attribute) [Flag]를 지정할 수 있음.